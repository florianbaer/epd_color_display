services:
  epd-web:
    build: .
    container_name: epd-display
    ports:
      - "80:80"
    volumes:
      - ./prompt.md:/app/prompt.md
      - ./generated_images:/app/generated_images
      - ./.env:/app/.env
    devices:
      - "/dev/gpiochip0:/dev/gpiochip0"
      - "/dev/spidev0.0:/dev/spidev0.0"
    environment:
      - TZ=Europe/Zurich
      - SCHEDULE_TIME=19:00
      - AUTO_GENERATE=true
    restart: unless-stopped
    privileged: true
